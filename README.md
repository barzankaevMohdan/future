# Cafe Face Recognition System

–°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é –ª–∏—Ü.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (Docker)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Windows 10/11 —Å Docker Desktop
- 8 GB RAM
- 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop**
   - –°–∫–∞—á–∞–π—Ç–µ: https://www.docker.com/products/docker-desktop
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**
   ```bash
   start-docker.bat
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
   - http://localhost:5173

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
fix-docker-build.bat
```

–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç 1, –∑–∞—Ç–µ–º 2, –∑–∞—Ç–µ–º 3 –µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç.

## üìπ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã

Docker –Ω–∞ Windows –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å USB –∫–∞–º–µ—Ä–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.

**–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP-–∫–∞–º–µ—Ä—É**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ "IP Webcam" –Ω–∞ Android —Ç–µ–ª–µ—Ñ–æ–Ω
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí Start server
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `setup-ip-camera.bat`
4. –í–≤–µ–¥–∏—Ç–µ URL –∫–∞–º–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://192.168.1.100:8080/video`)
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `rebuild-docker.bat`

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `start-docker.bat` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë |
| `stop-docker.bat` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë |
| `logs-docker.bat` | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ |
| `backup-data.bat` | –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø |
| `rebuild-docker.bat` | –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `setup-ip-camera.bat` | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–º–µ—Ä—É |
| `fix-docker-build.bat` | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ |

## üåê –î–æ—Å—Ç—É–ø

- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:5173
- **Backend API**: http://localhost:3000
- **–í–∏–¥–µ–æ –ø–æ—Ç–æ–∫**: http://localhost:5001/video_feed

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ backend/          # Node.js + Express + SQLite
‚îú‚îÄ‚îÄ frontend/         # Vue 3 + Vite
‚îú‚îÄ‚îÄ recognition/      # Python + OpenCV + InsightFace
‚îú‚îÄ‚îÄ docker-compose.windows.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îî‚îÄ‚îÄ *.bat            # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `docker-compose.windows.yml`:

```yaml
environment:
  - CAMERA_SOURCE=http://192.168.1.100:8080/video  # URL –∫–∞–º–µ—Ä—ã
  - INSIGHTFACE_THRESHOLD=0.2  # –ü–æ—Ä–æ–≥ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (–Ω–∏–∂–µ = —Å—Ç—Ä–æ–∂–µ)
  - IN_THRESHOLD=1.0           # –°–µ–∫—É–Ω–¥—ã –¥–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏—Ö–æ–¥–∞
  - OUT_THRESHOLD=10.0         # –°–µ–∫—É–Ω–¥—ã –¥–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —É—Ö–æ–¥–∞
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: `rebuild-docker.bat`

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
```bash
fix-docker-build.bat
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
netstat -ano | findstr :3000
taskkill /PID <–Ω–æ–º–µ—Ä> /F
```

### –ú–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. Docker Desktop ‚Üí Settings ‚Üí Resources
2. –£–≤–µ–ª–∏—á—å—Ç–µ Memory –¥–æ 8 GB
3. –£–≤–µ–ª–∏—á—å—Ç–µ CPU –¥–æ 4 cores

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç
```bash
logs-docker.bat
check-docker.bat
```

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π IN/OUT
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –í–∏–¥–µ–æ –ø–æ—Ç–æ–∫ —Å –∫–∞–º–µ—Ä—ã
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (CSV, JSON)
- ‚úÖ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ USB –∫–∞–º–µ—Ä–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ recognition –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# Backend –∏ Frontend –≤ Docker
docker-compose -f docker-compose.windows.yml up -d backend frontend

# Recognition –ª–æ–∫–∞–ª—å–Ω–æ
cd recognition
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
set BACKEND_URL=http://localhost:3000
set CAMERA_SOURCE=0
python main.py
```

## üìù –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
backup-data.bat
```

–ë—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `backups/` —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º.

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º
- –ü–æ–ª—É—á–∏—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `check-docker.bat`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `logs-docker.bat`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `fix-docker-build.bat`

---

**–í–µ—Ä—Å–∏—è**: 2.0.0-docker  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Windows 10/11 + Docker Desktop
